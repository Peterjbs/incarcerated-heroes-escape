<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Incarcerated Heroes: Labyrinth Escape</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="game-container">
        <!-- Main Menu -->
        <div id="main-menu" class="screen active">
            <div class="menu-content">
                <h1 class="game-title">Incarcerated Heroes</h1>
                <h2 class="game-subtitle">Labyrinth Escape</h2>
                <p class="game-intro">
                    You are part of a band of incarcerated heroes trapped in a dystopian labyrinth.
                    Solve puzzles, crack codes, and navigate treacherous paths across 36 unique challenges
                    to escape back to Earth and build a new home for humanity.
                </p>
                <div class="menu-buttons">
                    <button onclick="showScreen('level-select')" class="btn btn-primary">Start Game</button>
                    <button onclick="showScreen('instructions')" class="btn btn-secondary">Instructions</button>
                    <button onclick="showScreen('credits')" class="btn btn-secondary">Credits</button>
                    <button onclick="resetProgress()" class="btn btn-danger">Reset Progress</button>
                </div>
            </div>
        </div>

        <!-- Level Select Screen -->
        <div id="level-select" class="screen">
            <div class="level-select-content">
                <h2>Select Your Challenge</h2>
                <div id="level-grid" class="level-grid">
                    <!-- Levels will be generated dynamically -->
                </div>
                <button onclick="showScreen('main-menu')" class="btn btn-back">Back to Menu</button>
            </div>
        </div>

        <!-- Instructions Screen -->
        <div id="instructions" class="screen">
            <div class="instructions-content">
                <h2>How to Play</h2>
                <div class="instruction-section">
                    <h3>Objective</h3>
                    <p>Complete puzzle challenges across 36 unique levels to escape the labyrinth and return to Earth.</p>
                </div>
                <div class="instruction-section">
                    <h3>Game Progression</h3>
                    <p>All 36 levels are unlocked from the start! Choose any level in any order. Each level displays a unique code (e.g., CB4-V0-S00-42) that identifies the minigame type, variant, and configuration. Your progress is automatically saved.</p>
                </div>
                <div class="instruction-section">
                    <h3>The 10 Minigame Types</h3>
                    <ol>
                        <li><strong>4-Digit Code Breaker (CB4)</strong> - Crack security codes with logic and deduction</li>
                        <li><strong>2-Word Anagram Solver (AN2)</strong> - Unscramble adjective-noun pairs</li>
                        <li><strong>Magic Square 9-Grid (MS9)</strong> - Arrange numbers 1-9 to sum to 15</li>
                        <li><strong>6-Digit Timed Code Breaker (CB6)</strong> - Race against time to crack codes</li>
                        <li><strong>Sliding Tile 15-Puzzle (ST15)</strong> - Solve the classic sliding puzzle</li>
                        <li><strong>Key Collection Map Nav (KCM)</strong> - Navigate maps and collect keys</li>
                        <li><strong>Enemy Patrol Maze (EPM)</strong> - Avoid enemies in stealth mazes</li>
                        <li><strong>Checkpoint Extreme Maze (CEM)</strong> - Advanced navigation with checkpoints</li>
                        <li><strong>Gate Control Strategy (GCS)</strong> - Control gates to guide allies and trap enemies</li>
                        <li><strong>Jigsaw Word Grid 5Ã—5 (JWG)</strong> - Solve crossword puzzles with shaped tiles</li>
                    </ol>
                </div>
                <div class="instruction-section">
                    <h3>Level Codes</h3>
                    <p>Each level displays a unique code like <code>CB4-V0-S00-42</code> which tells you:</p>
                    <ul>
                        <li><strong>CB4</strong> - Game type (4-Digit Code Breaker)</li>
                        <li><strong>V0</strong> - Variant index (different difficulty/configuration)</li>
                        <li><strong>S00</strong> - Slot position in the 36-level grid</li>
                        <li><strong>42</strong> - Random seed for reproducibility</li>
                    </ul>
                    <p>Report level codes when sharing strategies or reporting issues!</p>
                </div>
                <div class="instruction-section">
                    <h3>Themes</h3>
                    <p>Each level has a unique visual theme with different colors and styling. Themes are assigned deterministically based on the level code, so the same level always looks the same.</p>
                </div>
                <button onclick="showScreen('main-menu')" class="btn btn-back">Back to Menu</button>
            </div>
        </div>

        <!-- Credits Screen -->
        <div id="credits" class="screen">
            <div class="credits-content">
                <h2>Credits</h2>
                <div class="credit-item">
                    <h3>Game Design & Development</h3>
                    <p>Incarcerated Heroes: Labyrinth Escape</p>
                </div>
                <div class="credit-item">
                    <h3>Special Thanks</h3>
                    <p>To all puzzle solvers and code breakers</p>
                </div>
                <div class="credit-item">
                    <h3>Version</h3>
                    <p>1.0.0</p>
                </div>
                <button onclick="showScreen('main-menu')" class="btn btn-back">Back to Menu</button>
            </div>
        </div>

        <!-- Victory Screen -->
        <div id="victory" class="screen">
            <div class="victory-content">
                <h1 class="victory-title">ðŸŽ‰ FREEDOM ACHIEVED! ðŸŽ‰</h1>
                <p class="victory-text">
                    Congratulations, Hero! You have successfully navigated the labyrinth,
                    solved all puzzles, and escaped to freedom. Earth awaits your return
                    to build a new home for humanity.
                </p>
                <div class="victory-stats" id="victory-stats"></div>
                <div class="menu-buttons">
                    <button onclick="showScreen('level-select')" class="btn btn-primary">Review Challenges</button>
                    <button onclick="showScreen('main-menu')" class="btn btn-secondary">Main Menu</button>
                    <button onclick="resetAndReplay()" class="btn btn-danger">Play Again</button>
                </div>
            </div>
        </div>

        <!-- Game Levels (will be loaded dynamically) - 36 levels -->
        <div id="level-1" class="screen level-screen"></div>
        <div id="level-2" class="screen level-screen"></div>
        <div id="level-3" class="screen level-screen"></div>
        <div id="level-4" class="screen level-screen"></div>
        <div id="level-5" class="screen level-screen"></div>
        <div id="level-6" class="screen level-screen"></div>
        <div id="level-7" class="screen level-screen"></div>
        <div id="level-8" class="screen level-screen"></div>
        <div id="level-9" class="screen level-screen"></div>
        <div id="level-10" class="screen level-screen"></div>
        <div id="level-11" class="screen level-screen"></div>
        <div id="level-12" class="screen level-screen"></div>
        <div id="level-13" class="screen level-screen"></div>
        <div id="level-14" class="screen level-screen"></div>
        <div id="level-15" class="screen level-screen"></div>
        <div id="level-16" class="screen level-screen"></div>
        <div id="level-17" class="screen level-screen"></div>
        <div id="level-18" class="screen level-screen"></div>
        <div id="level-19" class="screen level-screen"></div>
        <div id="level-20" class="screen level-screen"></div>
        <div id="level-21" class="screen level-screen"></div>
        <div id="level-22" class="screen level-screen"></div>
        <div id="level-23" class="screen level-screen"></div>
        <div id="level-24" class="screen level-screen"></div>
        <div id="level-25" class="screen level-screen"></div>
        <div id="level-26" class="screen level-screen"></div>
        <div id="level-27" class="screen level-screen"></div>
        <div id="level-28" class="screen level-screen"></div>
        <div id="level-29" class="screen level-screen"></div>
        <div id="level-30" class="screen level-screen"></div>
        <div id="level-31" class="screen level-screen"></div>
        <div id="level-32" class="screen level-screen"></div>
        <div id="level-33" class="screen level-screen"></div>
        <div id="level-34" class="screen level-screen"></div>
        <div id="level-35" class="screen level-screen"></div>
        <div id="level-36" class="screen level-screen"></div>
    </div>

    <script src="level-generator.js"></script>
    <script src="level-adapter.js"></script>
    <script src="game.js"></script>
    
    <!-- Load refactored minigame scripts -->
    <script src="GamesandLevelsWIP/4-digit-code-breaker.js"></script>
    <script src="GamesandLevelsWIP/2-word-anagram-solver.js"></script>
    <script src="GamesandLevelsWIP/magic-square-9-grid.js"></script>
    <script src="GamesandLevelsWIP/6-digit-timed-code-breaker.js"></script>
    <script src="GamesandLevelsWIP/sliding-tile-15-puzzle.js"></script>
    <script src="GamesandLevelsWIP/key-collection-map-nav.js"></script>
    <script src="GamesandLevelsWIP/enemy-patrol-maze.js"></script>
    <script src="GamesandLevelsWIP/checkpoint-extreme-maze.js"></script>
    <script src="GamesandLevelsWIP/gate-control-strategy-maze.js"></script>
    <script src="GamesandLevelsWIP/jigsaw-word-grid-5x5.js"></script>
</body>
</html>
