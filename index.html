<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Incarcerated Heroes: Labyrinth Escape</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="game-container">
        <!-- Main Menu -->
        <div id="main-menu" class="screen active">
            <div class="menu-content">
                <h1 class="game-title">Incarcerated Heroes</h1>
                <h2 class="game-subtitle">Labyrinth Escape</h2>
                <p class="game-intro">
                    You are part of a band of incarcerated heroes trapped in a dystopian labyrinth.
                    Solve puzzles, crack codes, and navigate treacherous paths to escape back to Earth
                    and build a new home for humanity.
                </p>
                <div class="menu-buttons">
                    <button onclick="showScreen('level-select')" class="btn btn-primary">Start Game</button>
                    <button onclick="showScreen('instructions')" class="btn btn-secondary">Instructions</button>
                    <button onclick="showScreen('credits')" class="btn btn-secondary">Credits</button>
                    <button onclick="resetProgress()" class="btn btn-danger">Reset Progress</button>
                </div>
            </div>
        </div>

        <!-- Level Select Screen -->
        <div id="level-select" class="screen">
            <div class="level-select-content">
                <h2>Select Your Challenge</h2>
                <div id="level-grid" class="level-grid">
                    <!-- Levels will be generated dynamically -->
                </div>
                <button onclick="showScreen('main-menu')" class="btn btn-back">Back to Menu</button>
            </div>
        </div>

        <!-- Instructions Screen -->
        <div id="instructions" class="screen">
            <div class="instructions-content">
                <h2>How to Play</h2>
                <div class="instruction-section">
                    <h3>Objective</h3>
                    <p>Complete all 10 puzzle challenges to escape the labyrinth and return to Earth.</p>
                </div>
                <div class="instruction-section">
                    <h3>Game Progression</h3>
                    <p>Levels unlock sequentially as you complete each puzzle. Your progress is automatically saved.</p>
                </div>
                <div class="instruction-section">
                    <h3>The Challenges</h3>
                    <ol>
                        <li><strong>Code Breaker</strong> - Crack the 4-digit security code</li>
                        <li><strong>Anagram Solver</strong> - Rearrange letters into meaningful words</li>
                        <li><strong>9-Number Grid</strong> - Arrange numbers 1-9 in the magic grid</li>
                        <li><strong>Advanced Code Breaker</strong> - Master the enhanced codebreaking challenge</li>
                        <li><strong>Jiggy Puzzle</strong> - Solve the sliding tile puzzle</li>
                        <li><strong>Map Navigation</strong> - Find the path through the treacherous map</li>
                        <li><strong>Pathfinder Challenge</strong> - Navigate the complex pathfinding maze</li>
                        <li><strong>Pathfinder Extreme</strong> - Master the ultimate pathfinding test</li>
                        <li><strong>Gate Master Maze</strong> - Lock and unlock gates to escape the final labyrinth</li>
                        <li><strong>Word Grid Challenge</strong> - Solve jigsaw-styled 5Ã—5 word puzzles with drag-and-drop tiles</li>
                    </ol>
                </div>
                <button onclick="showScreen('main-menu')" class="btn btn-back">Back to Menu</button>
            </div>
        </div>

        <!-- Credits Screen -->
        <div id="credits" class="screen">
            <div class="credits-content">
                <h2>Credits</h2>
                <div class="credit-item">
                    <h3>Game Design & Development</h3>
                    <p>Incarcerated Heroes: Labyrinth Escape</p>
                </div>
                <div class="credit-item">
                    <h3>Special Thanks</h3>
                    <p>To all puzzle solvers and code breakers</p>
                </div>
                <div class="credit-item">
                    <h3>Version</h3>
                    <p>1.0.0</p>
                </div>
                <button onclick="showScreen('main-menu')" class="btn btn-back">Back to Menu</button>
            </div>
        </div>

        <!-- Victory Screen -->
        <div id="victory" class="screen">
            <div class="victory-content">
                <h1 class="victory-title">ðŸŽ‰ FREEDOM ACHIEVED! ðŸŽ‰</h1>
                <p class="victory-text">
                    Congratulations, Hero! You have successfully navigated the labyrinth,
                    solved all puzzles, and escaped to freedom. Earth awaits your return
                    to build a new home for humanity.
                </p>
                <div class="victory-stats" id="victory-stats"></div>
                <div class="menu-buttons">
                    <button onclick="showScreen('level-select')" class="btn btn-primary">Review Challenges</button>
                    <button onclick="showScreen('main-menu')" class="btn btn-secondary">Main Menu</button>
                    <button onclick="resetAndReplay()" class="btn btn-danger">Play Again</button>
                </div>
            </div>
        </div>

        <!-- Game Levels (will be loaded dynamically) - 36 levels -->
        <div id="level-1" class="screen level-screen"></div>
        <div id="level-2" class="screen level-screen"></div>
        <div id="level-3" class="screen level-screen"></div>
        <div id="level-4" class="screen level-screen"></div>
        <div id="level-5" class="screen level-screen"></div>
        <div id="level-6" class="screen level-screen"></div>
        <div id="level-7" class="screen level-screen"></div>
        <div id="level-8" class="screen level-screen"></div>
        <div id="level-9" class="screen level-screen"></div>
        <div id="level-10" class="screen level-screen"></div>
        <div id="level-11" class="screen level-screen"></div>
        <div id="level-12" class="screen level-screen"></div>
        <div id="level-13" class="screen level-screen"></div>
        <div id="level-14" class="screen level-screen"></div>
        <div id="level-15" class="screen level-screen"></div>
        <div id="level-16" class="screen level-screen"></div>
        <div id="level-17" class="screen level-screen"></div>
        <div id="level-18" class="screen level-screen"></div>
        <div id="level-19" class="screen level-screen"></div>
        <div id="level-20" class="screen level-screen"></div>
        <div id="level-21" class="screen level-screen"></div>
        <div id="level-22" class="screen level-screen"></div>
        <div id="level-23" class="screen level-screen"></div>
        <div id="level-24" class="screen level-screen"></div>
        <div id="level-25" class="screen level-screen"></div>
        <div id="level-26" class="screen level-screen"></div>
        <div id="level-27" class="screen level-screen"></div>
        <div id="level-28" class="screen level-screen"></div>
        <div id="level-29" class="screen level-screen"></div>
        <div id="level-30" class="screen level-screen"></div>
        <div id="level-31" class="screen level-screen"></div>
        <div id="level-32" class="screen level-screen"></div>
        <div id="level-33" class="screen level-screen"></div>
        <div id="level-34" class="screen level-screen"></div>
        <div id="level-35" class="screen level-screen"></div>
        <div id="level-36" class="screen level-screen"></div>
    </div>

    <script src="level-generator.js"></script>
    <script src="level-adapter.js"></script>
    <script src="game.js"></script>
    
    <!-- Load refactored minigame scripts -->
    <script src="GamesandLevelsWIP/4-digit-code-breaker.js"></script>
    <script src="GamesandLevelsWIP/2-word-anagram-solver.js"></script>
    <script src="GamesandLevelsWIP/magic-square-9-grid.js"></script>
    <script src="GamesandLevelsWIP/6-digit-timed-code-breaker.js"></script>
    <script src="GamesandLevelsWIP/sliding-tile-15-puzzle.js"></script>
    <script src="GamesandLevelsWIP/key-collection-map-nav.js"></script>
    <script src="GamesandLevelsWIP/enemy-patrol-maze.js"></script>
    <script src="GamesandLevelsWIP/checkpoint-extreme-maze.js"></script>
    <script src="GamesandLevelsWIP/gate-control-strategy-maze.js"></script>
    <script src="GamesandLevelsWIP/jigsaw-word-grid-5x5.js"></script>
</body>
</html>
